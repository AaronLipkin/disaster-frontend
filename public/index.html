<!DOCTYPE html>
<html ng-app="disasterboard">

<head>
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
  <script type="text/javascript" src="geolocator.min.js"></script>
  <script type="text/javascript" src="app.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <title>Project 4</title>
</head>

<body ng-controller="mainController as ctrl">
  <header >
    <p>header</p>
    <!-- <div id="map-canvas" style="width:600px;height:400px"></div> -->
  </header>

  <div class="container">

    <main>
      <div ng-repeat="city in ctrl.cities track by $index" class="survivor">
        <h3 ng-click="toggle = !toggle">{{ city.name }}</h3>
        <div ng-show="toggle">
          Number: {{ city.emergency_number }}<br>
          Extra info: {{ city.extra_info }}<br>
          City ID: {{ city.id }}<br>
          Survivors:
          <ul ng-repeat="survivor in ctrl.survivors track by $index" ng-show="city.id == survivor.city_id">
            <li>{{survivor.name}}</li>
          </ul>
        </div>
      </div>
    </main>

    <nav>
      <h4 ng-click="toggle_form = !toggle_form">POST A survivor</h4>
        <form ng-show="toggle_form" ng-submit="ctrl.createSurvivor()">
        <input type="text" ng-model="ctrl.formdata.name" placeholder="name"/>
        <input type="text" ng-model="ctrl.formdata.number" placeholder="number"/>
        <!-- <input type="text" ng-model="ctrl.formdata.lng" placeholder="lng" /> -->
        <!-- <input type="text" ng-model="ctrl.formdata.lat" placeholder="lat"/> -->
        <button class="submit btn btn-primary" type="submit" /> Submit </button>
    </nav>

    <aside>
<h1>Aside</h1>
    </aside>

    <!-- end of "container" -->
  </div>

</body>

</html>
